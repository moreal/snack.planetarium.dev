<!doctype html><html lang=en prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#"><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta name=description content><meta name=HandheldFriendly content=True><meta name=MobileOptimized content=320><meta name=viewport content="width=device-width,initial-scale=1"><meta name=keywords content><meta property=og:type content=article><meta property=og:description content><meta property=og:title content="Libplanet 0.4 Released"><meta property=og:site_name content="Planetarium Engineering Snack"><meta property=og:image content=https://snack.planetarium.dev/og/eng.png><meta property=og:image:type content=image/png><meta property=og:url content=https://snack.planetarium.dev/eng/2019/07/libplanet-0.4/><meta property=og:locale content=en><meta property=article:published_time content=2019-07-10><meta property=article:modified_time content=2019-07-10><meta name=twitter:card content=summary><meta name=twitter:site content=@><meta name=twitter:creator content=@><meta name=twitter:title content="Libplanet 0.4 Released | Planetarium Engineering Snack"><meta name=twitter:description content="Hello everyone, we are happy to announce that the third minor version of Libplanet—Version 0.4, has been released.
Libplanet is a common library that solves game implementation problems such as P2P communication and data synchronization when creating online multiplayer games that run on distributed P2P.
This post will cover key changes in Version 0.4.
LiteDBStore Added To simplify the storage layer, Libplanet provides a built-in interface called IStore and a file-based class called FileStore.|"><meta name=twitter:image:src content><meta name=twitter:domain content=https://snack.planetarium.dev/eng/2019/07/libplanet-0.4/><title>Libplanet 0.4 Released</title><link rel=canonical href=https://snack.planetarium.dev/eng/2019/07/libplanet-0.4/><link rel=alternate href=https://snack.planetarium.dev/kor/2019/07/libplanet-0.4/ hreflang=ko title="Libplanet 0.4 릴리스"><link href=https://snack.planetarium.dev/index.xml rel=alternate type=application/atom+xml title="Libplanet 0.4 Released"><link rel=stylesheet href=https://unpkg.com/tachyons@4.10.0/css/tachyons.min.css><link rel=stylesheet href=https://snack.planetarium.dev/css/style.min.d5c61e1cc53097fc35ea35ffebe6d60be92391fe5a4c353839fcdd6acc0936df.css integrity="sha256-1cYeHMUwl/w16jX/6&#43;bWC&#43;kjkf5aTDU4OfzdaswJNt8="><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/highlightjs@9.12.0/styles/github-gist.css><script>!function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t,e){var n=document.createElement("script");n.type="text/javascript";n.async=!0;n.src="https://cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(n,a);analytics._loadOptions=e};analytics.SNIPPET_VERSION="4.1.0";analytics.load("pZvQIly24qmxPzHYesOjVyiITPbfXiOq");analytics.page();}}();</script><link rel="shortcut icon" href=/favicon.ico type=image/x-icon><link rel=apple-touch-icon href=/apple-touch-icon.png></head><body class="sans-serif w-90 w-60-ns center center-ns mv2 mv5-ns" itemscope itemtype=http://schema.org/Article><a href=https://snack.planetarium.dev/eng/ id=site-title class="b bb bw1 pb1 no-underline dark-gray">Planetarium Engineering Snack</a><section id=main class=mt5><h1 itemprop=name id=title class=mb1>Libplanet 0.4 Released</h1><div class="f6 gray dib-ns"><time itemprop=datePublished datetime=2019-07-10>July 10, 2019</time>
(<strong>English</strong>
&bull;
<a href=https://snack.planetarium.dev/kor/2019/07/libplanet-0.4/ hreflang=ko title="Libplanet 0.4 릴리스" class=gray>한국어</a>)</div><article itemprop=articleBody id=content class="w-100 lh-copy"><p>Hello everyone, we are happy to announce that the third minor version of <a href=https://libplanet.io/>Libplanet</a>—<a href=https://github.com/planetarium/libplanet/releases/tag/0.4.0>Version 0.4</a>, has been released.</p><p>Libplanet is a common library that solves game implementation problems such as P2P communication and data synchronization when creating online multiplayer games that run on distributed P2P.</p><p>This post will cover key changes in Version 0.4.</p><h2 id=litedbstore-added><code>LiteDBStore</code> Added</h2><p>To simplify the storage layer, Libplanet provides a built-in interface called <a href=https://docs.libplanet.io/0.4.0/api/Libplanet.Store.IStore.html><code>IStore</code></a> and a file-based class called <a href=https://docs.libplanet.io/0.4.0/api/Libplanet.Store.FileStore.html><code>FileStore</code></a>. The <code>FileStore</code> was enough for a small game, but when we applied it to a larger one, we found the following problems:</p><ul><li>Because all the blocks, their status, transactions, and account addresses, were stored as separate files, there were just too many of them.</li><li>I/O performance was reduced because there were no separate cache or buffers.</li></ul><p>To address these issues, we reviewed the need for an <code>IStore</code> implementation using a separate storage engine, and in this process we chose <a href=https://www.litedb.org/>LiteDB</a>. Written purely in C#, LiteDB is easy to manage because it&rsquo;s highly portable in a .NET environment and it allows you to manage your entire data in a single file.</p><p>Since the newly added <a href=https://docs.libplanet.io/0.4.0/api/Libplanet.Store.LiteDBStore.html><code>LiteDBStore</code></a> implements <code>IStore</code>, besides the object initialization method in the previous <code>FileStore</code>, it can be used in exactly the same way.</p><h2 id=easy-transaction-creation>Easy Transaction Creation</h2><p><a href=https://docs.libplanet.io/0.3.0/api/Libplanet.Tx.Transaction-1.html#Libplanet_Tx_Transaction_1_Nonce><code>Transaction&lt;T&gt;.Nonce</code></a> added on Version 0.3 was an important device for creating secure transactions, but at the same time it was a headache for developers who used Libplanet. This was because in order to make a <code>Transaction&lt;T&gt;</code>, one had to use <a href=https://docs.libplanet.io/0.3.0/api/Libplanet.Blockchain.BlockChain-1.html#Libplanet_Blockchain_BlockChain_1_GetNonce_Libplanet_Address_><code>BlockChain&lt;T&gt;.GetNonce()</code></a> to get the exact <a href=https://en.wikipedia.org/wiki/Cryptographic_nonce>nonce</a> of the account that’s currently signing and use it. Not only was this process cumbersome, but it also created concurrency problems depending on when transactions were created.</p><p>But starting from Version 0.4, <a href=https://docs.libplanet.io/0.4.0/api/Libplanet.Blockchain.BlockChain-1.html#Libplanet_Blockchain_BlockChain_1_MakeTransaction_Libplanet_Crypto_PrivateKey_System_Collections_Generic_IEnumerable__0__System_Collections_Immutable_IImmutableSet_Libplanet_Address__System_Nullable_System_DateTimeOffset__System_Boolean_><code>BlockChain&lt;T&gt;.MakeTransaction()</code></a> makes it simple and easy to create transactions without worrying about concurrency.</p><h2 id=transaction-broadcast-automated>Transaction Broadcast Automated</h2><p>In order for games using previous versions of Libplanet to broadcast transactions, <a href=https://docs.libplanet.io/0.3.0/api/Libplanet.Net.Swarm.html#Libplanet_Net_Swarm_BroadcastTxs__1_System_Collections_Generic_IEnumerable_Libplanet_Tx_Transaction___0___><code>Swarm.BroadcastTxs()</code></a> had to be called directly. And because transaction broadcast could fail due to network failure, the retry logic had to be implemented directly from the game side.</p><p>(Although <code>.BroadcastTxs()</code> is still usable) Now, direct implementation isn’t necessary from games. Instead, they can put their own chains when making <code>Swarm&lt;T&gt;</code> and create a transaction (using <code>BlockChain&lt;T&gt;.MakeTransaction()</code> as introduced above). The rest will be carried out by <code>Swarm&lt;T&gt;</code>.</p><p>In this process, since <code>Swarm</code> now directly manages the chain, it has been modified to <code>Swarm&lt;T&gt;</code>, indicating that it contains a type parameter(<code>T</code>), just like<code>BlockChain&lt;T&gt;</code>.</p><h2 id=furthermore>Furthermore,</h2><p>You can learn more about additional changes in <a href=https://github.com/planetarium/libplanet/releases/tag/0.4.0>our release notes</a>.</p><p>And as always, if you have any questions about the new release or Libplanet in general, please visit <a href=https://discord.gg/ue9fgc3>our Discord chatroom</a> and let’s chat!</p></article><div itemprop=author class="fl tc mr3"><a href=https://github.com/longfin rel=author itemprop=url class="no-underline mid-gray b f6"><img src="https://www.gravatar.com/avatar/0b12cfcb4b1a472207af0e51f7d13a71?d=https://avatars.githubusercontent.com/longfin" itemprop=image class="w3 h3 br-100 mb1"><br>Swen Mun</a></div></section><footer><div><p class="f6 gray mt6 lh-copy">&copy; 2019
<a href=https://planetariumhq.com/ style=color:inherit;text-decoration:inherit>Planetarium</a>.</p></div></footer><script src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.14.2/highlight.min.js></script><script>hljs.initHighlightingOnLoad();</script></body></html>